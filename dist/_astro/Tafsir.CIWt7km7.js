import{d as f,g as o,s as h,i as l,r as g,t as d,c as x}from"./web.BGf7LGYL.js";var y=d('<div class="TafsirCard bg-grey-300 flex flex-col align-middle m-5 text-white py-5 rounded-lg shadow-lg border-2 border-transparent"><h2 class="text-lg text-center font-bold"></h2><p class="text-sm text-center">');const b=({name:e,writer:n,id:t,onClick:a})=>(()=>{var r=o(y),s=r.firstChild,i=s.nextSibling;return r.$$click=()=>a(t),h(r,"id",t),l(s,e),l(i,n),g(),r})();f(["click"]);var p=d('<div><h1 class="text-white text-center text-xl m-5 font-medium">Select Tafsirs</h1><div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4">');let c="ibnkathir";const T=[{name:"Tafsir Al-Quran Al-Azeem",id:"ibnkathir",writer:"Ibn Kathir"},{name:"Maarif ul-Quran",id:"maarif",writer:"Muhammad Shafi'"},{name:"Tafheem ul-Quran",id:"maududi",writer:"Abul-Aala Maududi"},{name:"Tafsir Jalalayn",id:"jalalayn",writer:"As-Suyuti and Al-Mahalli"}];function w(e){document.querySelectorAll(".TafsirCard").forEach(a=>{a.classList.add("border-transparent")});const t=document.getElementById(e);t&&(t.classList.remove("border-transparent"),t.classList.add("border-purple-300"),c=String(t.id)),E()}const k=()=>(()=>{var e=o(p),n=e.firstChild,t=n.nextSibling;return l(t,()=>T.map(a=>x(b,{get key(){return a.id},get id(){return a.id},get name(){return a.name},get writer(){return a.writer},onClick:w}))),e})();async function $(e,n,t){const a=`https://tafsir.fussilat.com/api2/${e}/${n}/${t}`;try{let r=function(u){return new TextDecoder("utf-8").decode(new Uint8Array([...u].map(m=>m.charCodeAt(0))))};const s=await fetch(a);if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);let i=await s.json();return i.text&&(i.text=r(i.text)),i}catch(r){throw new Error("Failed to fetch Tafsir: "+r.message)}}function A(){let e=document.getElementById("surah").value,t=document.querySelector("datalist").getElementsByTagName("option"),r=Array.from(t).findIndex(i=>i.value===e)+1,s=document.getElementById("ayat").value;return{book:String(c),surah:Number(r),ayat:Number(s)}}async function E(){const e=document.getElementById("tafsirText");e.innerText="Loading...";const{book:n,surah:t,ayat:a}=A();try{const r=await $(n,t,a);e.innerText=r.text}catch(r){e.innerText=r.message}}export{k as Tafsir};
